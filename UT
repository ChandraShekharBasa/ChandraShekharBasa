import { useEffect, useRef } from 'react';
import './video.css';

export interface VideoComponentProps {
	source: string; // Source of the video file
	type: string; // Type of the video (default is 'video/mp4')
	controls?: boolean; // Show video controls (default is true)
	autoplay?: boolean; // Auto play video (default is false)
	loop?: boolean; // Loop video (default is false)
	muted: boolean; // Mute video (default is false)
	className: string; // Custom class name
	poster: string; // Poster image for video
	width?: string; // Sets the width of the video player
	height?: string; //Sets the height of the video player
}

export const Video = ({
	source,
	type,
	controls,
	autoplay,
	loop,
	muted,
	className = 'made-c-video-component',
	poster,
	width,
	height,
}: VideoComponentProps) => {
	const videoRef = useRef(null);

	// this hook is used to update any of the video component properties later
	useEffect(() => {});

	return (
		<Video
			ref={videoRef}
			src={source}
			type={type}
			controls={controls}
			autoPlay={autoplay}
			loop={loop}
			muted={muted}
			className={className}
			poster={poster}
			width={width}
			height={height}
		>
			Your browser does not support the video tag.
		</Video>
	);
};
